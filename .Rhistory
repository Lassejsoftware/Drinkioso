ggplot(moskat) + geom_histogram(aes(x = beer_style), stat = "count")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
camillask <- readRDS("C:/Users/jqmt/Desktop/jens/drinkioso/users/camillask.rds")
View(camillask)
user
user = "moskat"
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
gsub("\\-*", "", userDat$beer_style)
gsub("\\-.*", "", userDat$beer_style)
#
# 30-12-2018
#
# user histogram plots
#
userHist <- function(user, simple = F){
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
if (simple){
userDat$beer_style = gsub("\\-.*", "", userDat$beer_style)
}
# Plot that stuff
p <- ggplot(data = userDat) + geom_bar(aes( x = beer_style)) +
labs(title = paste0("Histogram of beer types for ", user), x = "", y = "Counts" )
if (!simple){
p <- p + theme(axis.text.x = element_text(angle = 90, hjust=1, vjust=0.5))
}
return(p)
}
userHist("moskat")
#
# 30-12-2018
#
# user histogram plots
#
userHist <- function(user, simple = F){
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
if (simple){
userDat$beer_style = gsub("\\-.*", "", userDat$beer_style)
}
# Plot that stuff
p <- ggplot(data = userDat) + geom_bar(aes( x = beer_style)) +
labs(title = paste0("Histogram of beer types for ", user), x = "", y = "Counts" ) +
theme(axis.text.x = element_text(size = 15))
if (!simple){
p <- p + theme(axis.text.x = element_text(angle = 90, hjust=1, vjust=0.5, size = 15))
}
return(p)
}
userHist("moskat")
#
# 30-12-2018
#
# user histogram plots
#
userHist <- function(user, simple = F){
xlab = 13
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
if (simple){
userDat$beer_style = gsub("\\-.*", "", userDat$beer_style)
}
# Plot that stuff
p <- ggplot(data = userDat) + geom_bar(aes( x = beer_style)) +
labs(title = paste0("Histogram of beer types for ", user), x = "", y = "Counts" ) +
theme(axis.text.x = element_text(size = xlab))
if (!simple){
p <- p + theme(axis.text.x = element_text(angle = 90, hjust=1, vjust=0.5, size = xlab))
}
return(p)
}
userHist("moskat")
userHist("moskat", simple = T)
#
# 30-12-2018
#
# user histogram plots
#
userHist <- function(user, simple = F){
xlab = 13
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
if (simple){
userDat$beer_style = gsub("\\-.*", "", userDat$beer_style)
}
# Plot that stuff
p <- ggplot(data = userDat) + geom_bar(aes( x = beer_style)) +
labs(title = paste0("Histogram of beer types for ", user), x = "", y = "Counts" ) +
theme(axis.text.x = element_text(angle = 90, hjust=1, vjust=0.5, size = xlab))
return(p)
}
userHist("moskat", simple = T)
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
#
# 30-12-2018
#
# user histogram plots
#
userHist <- function(user, simple = F){
xlab = 13
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
if (simple){
userDat$beer_style = gsub("\\-.*", "", userDat$beer_style)
}
# Plot that stuff
p <- ggplot(data = userDat) + geom_bar(aes( x = beer_style)) +
labs(title = paste0("Histogram of beer types for ", user), x = "", y = "Counts" ) +
theme(
axis.text.x = element_text(angle = 90, hjust=1, vjust=0.5, size = xlab),
axis.text.y = element_text(size = xlab)
)
return(p)
}
userHist("moskat", simple = T)
View(moskat)
#
# 30-12-2018
#
# user histogram plots
#
userHist <- function(user, simple = F){
xlab = 13
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
if (simple){
userDat$beer_style = gsub("\\-.*", "", userDat$beer_style)
}
userDat$is_venue = !is.na(userDat$venue_id)
# Plot that stuff
p <- ggplot(data = userDat) + geom_bar(aes(x = beer_style, color = is_venue)) +
labs(title = paste0("Histogram of beer types for ", user), x = "", y = "Counts" ) +
theme(
axis.text.x = element_text(angle = 90, hjust=1, vjust=0.5, size = xlab),
axis.text.y = element_text(size = xlab)
)
return(p)
}
userHist("moskat", simple = T)
userHist("cammillask", simple = T)
userHist("camillask", simple = T)
#
# 30-12-2018
#
# user histogram plots
#
userHist <- function(user, simple = F){
xlab = 13
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
if (simple){
userDat$beer_style = gsub("\\-.*", "", userDat$beer_style)
}
userDat$is_venue = !is.na(userDat$venue_id)
# Plot that stuff
p <- ggplot(data = userDat) + geom_bar(aes(x = beer_style, fill = is_venue)) +
labs(title = paste0("Histogram of beer types for ", user), x = "", y = "Counts", fill = "Venue" ) +
theme(
axis.text.x = element_text(angle = 90, hjust=1, vjust=0.5, size = xlab),
axis.text.y = element_text(size = xlab)
)
return(p)
}
userHist("camillask", simple = T)
#
# 30-12-2018
#
# user histogram plots
#
userHist <- function(user, simple = F){
xlab = 13
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
if (simple){
userDat$beer_style = gsub("\\-.*", "", userDat$beer_style)
}
userDat$is_venue = ifelse(!is.na(userDat$venue_id),"Yes", "No")
# Plot that stuff
p <- ggplot(data = userDat) + geom_bar(aes(x = beer_style, fill = is_venue)) +
labs(title = paste0("Histogram of beer types for ", user), x = "", y = "Counts", fill = "Venue" ) +
theme(
axis.text.x = element_text(angle = 90, hjust=1, vjust=0.5, size = xlab),
axis.text.y = element_text(size = xlab)
)
return(p)
}
userHist("camillask", simple = T)
userHist("camillask", simple = F)
View(moskat)
plot(moskat$created_at, moskat$rating_score)
comsum
cumsum(1:10)
userDat
userDat$num = nrow(userDat):1
View(userDat)
p <- ggplot(userDat) + geom_point(aes(x = created_at, y = num))
p
p <- ggplot(userDat[1:10,]) + geom_point(aes(x = created_at, y = num))
p
plot(userDat$created_at, userDat$num)
userDat$created_at[1]
userDat$time = substr(userDat$created_at, start = 6, nchar(userDat$created_at))
nchar(userDat$created_at)
sapply(userDat$created_at, nchar)
str(userDat$created_at[1])
time = as.character(userDat$created_at)
time = substr(time,5,nchar(time))
time = as.character(userDat$created_at)
time = substr(time,6,nchar(time))
time
time = substr(time,6,27)
time = as.character(userDat$created_at)
time = substr(time,6,27)
time = as.character(userDat$created_at)
time = substr(time,6,17)
time = as.character(userDat$created_at)
time = substr(time,6,16)
?date_formate
?date_format
date_format(time[1])
?strptime
test = strptime(time[1], "%d %B %Y")
test
time[1]
test = strptime(time[1], "%d %b %Y")
strptime(time[1], "%d %b %Y")
time
strptime(tolower(time[1]), "%d %b %Y")
"1jan1960"
strptime("1jan1960", "%d%b%Y")
strptime("01jan1960", "%d%b%Y")
strptime("01 jan1960", "%d %b%Y")
strptime("01 jan 1960", "%d %b %Y")
strptime("01 Jan 1960", "%d %b %Y")
strptime("01 Jan 2018", "%d %b %Y")
time[1]
strptime("01 Oct 2018", "%d %b %Y")
strptime("01 oct 2018", "%d %b %Y")
strptime("01 Okt 2018", "%d %b %Y")
time = as.Date(substr(time,6,16)) %>% gsub(pattern = "oct", replacement = "okt", x = ., ignore.case = T)
time = as.character(userDat$created_at)
time = as.Date(substr(time,6,16)) %>% gsub(pattern = "oct", replacement = "okt", x = ., ignore.case = T)
time = gsub("oct", "okt",time,ignore.case = T)
time = as.character(userDat$created_at)
time = as.Date(substr(time,6,16))
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
userDat$num = nrow(userDat):1
time = as.character(userDat$created_at)
time = as.Date(substr(time,6,16))
time = substr(time,6,16)
time = gsub("oct", "okt",time,ignore.case = T)
time2 = strptime(time, "%d %b %Y")
time2
test = substr(tim2, 6,7)
test = substr(time2, 6,7)
unique(test)
user = "camillask"
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
userDat$num = nrow(userDat):1
time = as.character(userDat$created_at)
time = substr(time,6,16)
time = gsub("oct", "okt",time,ignore.case = T)
time2 = strptime(time, "%d %b %Y")
time2
test = substr(time2, 6,7)
unique(test)
strptime("oct","%b")
strptime("okt","%b")
strptime("01 okt","%d %b")
strptime("01 oct","%d %b")
time = as.character(userDat$created_at)
time = substr(time,6,16)
if (is.na(strptime("01 oct","%d %b"))){
time = gsub("oct", "okt",time,ignore.case = T)
time = gsub("may", "maj",time,ignore.case = T)
}
time2 = strptime(time, "%d %b %Y")
sum(is.na(time2))
userDat$num = nrow(userDat):1
time = as.character(userDat$created_at)
time = substr(time,6,16)
if (is.na(strptime("01 oct","%d %b"))){
time = gsub("oct", "okt",time,ignore.case = T)
time = gsub("may", "maj",time,ignore.case = T)
}
userDat$time = strptime(time, "%d %b %Y")
p <- ggplot(userDat[1:10,]) + geom_point(aes(x = time, y = num))
p
userDat$time = as.POSIXct(strptime(time, "%d %b %Y"))
p <- ggplot(userDat[1:10,]) + geom_point(aes(x = time, y = num))
p
p <- ggplot(userDat) + geom_point(aes(x = time, y = num))
p
p <- ggplot(userDat) + geom_point(aes(x = time, y = num, color = is_venue)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue")
p
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
userDat$num = nrow(userDat):1
userDat$is_venue = ifelse(!is.na(userDat$venue_id),"Yes", "No")
# Fins time.
time = as.character(userDat$created_at)
time = substr(time,6,16)
if (is.na(strptime("01 oct","%d %b"))){
time = gsub("oct", "okt",time,ignore.case = T)
time = gsub("may", "maj",time,ignore.case = T)
}
userDat$time = as.POSIXct(strptime(time, "%d %b %Y"))
p <- ggplot(userDat) + geom_point(aes(x = time, y = num, color = is_venue)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue")
#
# 30-12-2018
#
# Beer timeline for a user
#
userTimeline <- function(user){
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
userDat$num = nrow(userDat):1
userDat$is_venue = ifelse(!is.na(userDat$venue_id),"Yes", "No")
# Fins time.
time = as.character(userDat$created_at)
time = substr(time,6,16)
if (is.na(strptime("01 oct","%d %b"))){
time = gsub("oct", "okt",time,ignore.case = T)
time = gsub("may", "maj",time,ignore.case = T)
}
userDat$time = as.POSIXct(strptime(time, "%d %b %Y"))
p <- ggplot(userDat) + geom_point(aes(x = time, y = num, color = is_venue)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue")
}
p
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue)) +
geom_line(aes(x = time, y = num)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
p
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue)) +
#    geom_line(aes(x = time, y = num)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
p
xlab = 13
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue)) +
#    geom_line(aes(x = time, y = num)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
p
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue)) +
geom_line(aes(x = time, y = num)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
p
plot(userDat$checkin_id)
plot(diff(userDat$checkin_id))
max(plot(diff(userDat$checkin_id)))
max(diff(userDat$checkin_id))
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
dups = duplicated(userDat$checkin_id)
userDat = userDat[!dups,]
userDat$num = nrow(userDat):1
userDat$is_venue = ifelse(!is.na(userDat$venue_id),"Yes", "No")
# Fins time.
time = as.character(userDat$created_at)
time = substr(time,6,16)
if (is.na(strptime("01 oct","%d %b"))){
time = gsub("oct", "okt",time,ignore.case = T)
time = gsub("may", "maj",time,ignore.case = T)
}
userDat$time = as.POSIXct(strptime(time, "%d %b %Y"))
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue)) +
geom_line(aes(x = time, y = num)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
#
# 30-12-2018
#
# Beer timeline for a user
#
userTimeline <- function(user){
xlab = 13
# Get data
userDat = readRDS(paste0("checkinHist/", user, ".rds"))
dups = duplicated(userDat$checkin_id)
userDat = userDat[!dups,]
userDat$num = nrow(userDat):1
userDat$is_venue = ifelse(!is.na(userDat$venue_id),"Yes", "No")
# Fins time.
time = as.character(userDat$created_at)
time = substr(time,6,16)
if (is.na(strptime("01 oct","%d %b"))){
time = gsub("oct", "okt",time,ignore.case = T)
time = gsub("may", "maj",time,ignore.case = T)
}
userDat$time = as.POSIXct(strptime(time, "%d %b %Y"))
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue)) +
geom_line(aes(x = time, y = num)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
}
p
# Fins time.
time = as.character(userDat$created_at)
time[1]
substr(time[1],6,27)
substr(time[1],6,25)
# Fins time.
time = as.character(userDat$created_at)
time = substr(time,6,25)
if (is.na(strptime("01 oct","%d %b"))){
time = gsub("oct", "okt",time,ignore.case = T)
time = gsub("may", "maj",time,ignore.case = T)
}
userDat$time = as.POSIXct(strptime(time, "%d %b %Y %H:%M:%S"))
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue)) +
geom_line(aes(x = time, y = num)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
p
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue), size = 2) +
geom_line(aes(x = time, y = num)) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
p
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue), size = 2) +
geom_line(aes(x = time, y = num), size = 2) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
p
p <- ggplot(userDat) +
geom_point(aes(x = time, y = num, color = is_venue), size = 2) +
geom_line(aes(x = time, y = num), size = 1) +
labs(title = paste0("Beer timeline for ", user,"\nOnly shows beers tracked in Drinkioso."),
x="", y = "Beer number", color = "Venue") +
theme(
axis.text.x = element_text(size = xlab),
axis.text.y = element_text(size = xlab)
)
p
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
Garbacz <- readRDS("C:/Users/jqmt/Desktop/jens/drinkioso/checkinHist/Garbacz.rds")
View(moskat)
rm(list = ls())
runApp("C:/Users/jqmt/Desktop/jens/drinkioso/")
rm(list = ls())
getwd()
# rsconnect::deployApp('C:/Users/jqmt/Desktop/jens/LJSoftware/overView/')
#rsconnect::deployApp('C:\\Users\\jqmt\\Desktop\\jens\\LJSoftware\\overView\\')
deployApp()
